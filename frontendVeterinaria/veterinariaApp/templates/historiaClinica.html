<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="../static/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../static/img/favicon.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <title>
    Consulta Medica
  </title>
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
  <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
  <!-- Nucleo Icons -->
  <link href="../static/css/nucleo-icons.css" rel="stylesheet" />
  <link href="../static/css/nucleo-svg.css" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <link href="../static/css/font-awesome.css" rel="stylesheet" />
  <link href="../static/css/nucleo-svg.css" rel="stylesheet" />
  <!-- CSS Files -->
  <link href="../static/css/argon-design-system.css?v=1.2.2" rel="stylesheet" />
  <style>
    h3 {
      font-weight: 800;
      color: black;
    }
  </style>
</head>

<body class="profile-page">
  <!-- Navbar -->
  <nav class="navbar" style="background-image: linear-gradient(rgb(13, 110, 253),rgb(119, 167, 239));">
    <div class="container">
      <a class="navbar-brand" href="#" style="text-decoration: none;">
        <img src="../static/img/icons/Logo text.png" alt="Logo" style="width: 150px; height: 40px; border-radius: 7%;">
      </a>
      <a href="/RH/{{id}}" class="btn btn-secondary">
        <i class="fa fa-arrow-left"></i> Regresar
      </a>
    </div>
  </nav>
  <!-- End Navbar -->
  <div class="wrapper">
    <section class="section-profile-cover section-shaped my-0">
      <!-- Circles background -->
      <img class="bg-image" src="../static/img/theme/Background Veterinario.jpg" style="width: 100%;">
      <!-- SVG separator -->
    </section>
    <section class="section bg-secondary">
      <div class="container">
        <div class="card card-profile shadow mt--300">
          <div class="px-4 text-center">
            <h3>CONSULTA MEDICA</h3>
            <div class="text-center mt-5">
              <form id="formularioConsulta" class="row" role="form" method="get" action="/historiaClinica2/{{id}}">
                {% for mascota in mascotas %}
                <div class="col-6">
                  <div class='mb-4 text-left'>
                    <label class='block text-gray-900 text-sm font-bold mb-2 ml-50'>Identificacion Mascota </label>
                    <input class='form-control' id="idMascota" type="number" value="{{mascota.id}}" name="idMascota"
                      readonly />
                  </div>
                </div>
                <div class="col-6">
                  <div class='mb-4 text-left'>
                    <label class='block text-gray-900 text-sm font-bold mb-2 '>Nombre Mascota </label>
                    <input class='form-control' id="nombre" type="text" value="{{mascota.nombre}}" name="nombre"
                      readonly />
                  </div>
                </div>
                {% endfor %}
                <div class="col-6">
                  <div class='mb-4 text-left'>
                    <label class='block text-gray-900 text-sm font-bold mb-2 '>Motivo de Consulta</label>
                    <textarea class='form-control' id="motivo" type="text" name="motivo" placeholder="Motivo" row="3"
                      required></textarea>
                  </div>
                </div>
                <div class="col-6">
                  <div class='mb-4 text-left'>
                    <label class='block text-gray-900 text-sm font-bold mb-2 '>Síntomas</label>
                    <textarea class='form-control' id="sintomas" type="text" name="sintomas" placeholder="Sintomas"
                      row="3" required></textarea>
                  </div>
                </div>
                <div class="col-6">
                  <div class='mb-4 text-left'>
                    <label class='block text-gray-900 text-sm font-bold mb-2 '>Diagnóstico</label>
                    <textarea class='form-control' id="diagnostico" type="text" name="diagnostico"
                      placeholder="Diagnostico" row="3"></textarea>
                  </div>
                </div>
                <input type="hidden" name="vectorAyudas" id="vectorAyudas">
                <input type="hidden" name="vectorMedicamentos" id="vectorMedicamentos">
                <input type="hidden" name="vectorProcedimientos" id="vectorProcedimientos">
                <div class="col-6 py-2 mt-3">
                  <div class='mb-4 text-left'>
                    <div class="form-check">
                      <!-- <input class="form-check-input" type="radio" name="opciones" id="ayuda" onclick="ocultar();"> -->
                      <input class="form-check-input" type="radio" name="opciones" id="ayuda">
                      <label class="form-check-label" for="ayuda">Ayuda Diagnóstica</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="opciones" id="med_pro" ">
                      <label class=" form-check-label" for="med_pro">Medicamentos y Procedimientos</label>
                    </div>

                    <div class="form-check form-switch" id="medica1" style="display: none;">
                      <input class="form-check-input" type="checkbox" id="medica" name="medica">
                      <label class="form-check-label" id="lable_medica" for="medica">Medicamentos</label>

                    </div>
                    <div class="form-check form-switch" id="procede1" style="display: none;">
                      <input class="form-check-input" type="checkbox" id="procede" name="procede">
                      <label class="form-check-label" for="procede">Procedimientos</label>
                    </div>
                  </div>
                </div>
                <div class="col-12 ml-6 mb-4" id="ayuda1" style="display: none;">
                  <table class="tableA" id="tablaAyuda">
                    <thead>
                      <tr class="table-primary">
                        <th hidden></th>
                        <th class="h6">Ayuda Diagnostica</th>
                        <th class="h6">Cantidad</th>
                        <th class="h6">Especialista</th>
                        <th class="h6">seleccionar</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for a in ayudas %}
                      <tr id="filas_ayudas ">
                        <td class="id_ayuda" hidden>
                          <input type="text" id="cod_ayuda" value="{{ a.codAyuda }}" hidden>
                        </td>
                        <td class="nombre_ayuda">
                          <label>{{ a.nombreAyuda }}</label>
                        </td>
                        <td class="cant_ayuda">
                          <!-- <input type="number" min=1 max=5 id="cant" name="cant" style="-moz-appearance: textfield;"/> -->
                          <input type="number" min=1 max=5 id="cant" name="cant" />


                        </td>
                        <td class="especial_ayuda">
                          <input type="checkbox" id="especialistas" name="especialistas"> Requiere
                        </td>
                        <td class="seleccion_ayuda">
                          <input type="checkbox" id="sel_ayuda" name="sel_ayuda">
                        </td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
                </div>
                <div class="ml-5">
                  <div class="col-6 ml-6 mb-4" id="medicamento1" style="display: none;">
                    <table class="tableM" id="Tmedica">
                      <thead>
                        <tr class="table-primary">
                          <th hidden></th>
                          <th class="h6">Medicamento</th>
                          <th class="h6">Dosis</th>
                          <th class="h6">Duracion</th>
                          <th class="h6">Elegir</th>
                        </tr>
                      </thead>
                      <tbody>
                        {% for m in medicamentos %}
                        <tr id="filas_medicamentos">
                          <td class="id_medica" hidden>
                            <input type="text" id="cod_medicamento" value="{{ m.idMedicamento }}" hidden>
                          </td>
                          <td class="nombre_medica">
                            <label for="" id="">{{ m.nombre }}</label>
                          </td>
                          <td>
                            <input type="number" min=1 max="900" id="dosis" name="dosis" />
                          </td>
                          <td>
                            <input type="number" min=1 max="900" id="duracion" name="duracion" placeholder="dias" />
                          </td>
                          <td class="seleccion_medica">
                            <input type="checkbox" id="sel_medica" name="sel_medica">
                          </td>
                        </tr>
                        {% endfor %}
                      </tbody>
                    </table>
                  </div>
                  <div class="col-6 ml-6 mb-4" id="procedimiento1" style="display: none;">
                    <table class="tableP" id="Tprocede">
                      <thead>
                        <tr class="table-primary">
                          <th hidden></th>
                          <th class="h6">Procedimiento</th>
                          <th class="h6">Cantidad</th>
                          <th class="h6">Asistencia Especializada</th>
                          <th class="h6">Elegir</th>
                        </tr>
                      </thead>
                      <tbody>
                        {% for p in procedimientos %}
                        <tr>
                          <td class="id_procede" hidden>
                            <input type="text" id="cod_procede" value="{{ p.codProcedimiento }}" hidden>
                          </td>
                          <td class="nombre_procede">
                            <label for="" id="">{{ p.nombreProcedimiento }}</label>
                          </td>
                          <td>
                            <input type="number" min=1 max=50 id="cantidad" name="cantidad" />
                          </td>
                          <td>
                            <input type="checkbox" id="especialistas" name="especialistas">
                          </td>
                          <td class="seleccion_medica">
                            <input type="checkbox" id="sel_procede" name="sel_procede">
                          </td>
                        </tr>
                        {% endfor %}
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="col-12">
                  <div class="text-center">
                    <button id="btn_Grabar" type="submit" class="btn btn-primary my-4"><i class="fa fa-floppy-o"></i>
                      Grabar</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
  <!--   Core JS Files   -->
  <script src="../static/js/core/jquery.min.js" type="text/javascript"></script>
  <script src="../static/js/scripts.js" type="text/javascript"></script>
  <script src="../static/js/scripts.js"></script>
  <script src="../static/js/core/popper.min.js" type="text/javascript"></script>
  <script src="../static/js/core/bootstrap.min.js" type="text/javascript"></script>
  <script src="../static/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  <!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
  <script src="../static/js/plugins/bootstrap-switch.js"></script>
  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="../static/js/plugins/nouislider.min.js" type="text/javascript"></script>
  <script src="../static/js/plugins/moment.min.js"></script>
  <script src="../static/js/plugins/datetimepicker.js" type="text/javascript"></script>
  <script src="../static/js/plugins/bootstrap-datepicker.min.js"></script>
  <!-- Control Center for Argon UI Kit: parallax effects, scripts for the example pages etc -->
  <script src="../static/js/argon-design-system.min.js?v=1.2.2" type="text/javascript"></script>
  <script src="https://cdn.trackjs.com/agent/v3/latest/t.js"></script>

  <script type="text/javascript">
    function vectores() { console.log("funcion Vectores") }
    let vectorAyuda = [];
    //document.querySelectorAll('.tableA tbody tr').forEach(function(e){
    document.querySelectorAll('#tablaAyuda tbody tr').forEach(function (e) {
      let fila = {
        codAyuda: e.querySelector('#ayudas').innerText,
        cantidad: e.querySelector('#cant').innerText,
        especial: e.querySelector('#especialistas').innerText,
      };
      vectorAyuda.push(fila);
    });
    console.log(vectorAyuda)

    var tablaAyudaDiagnostica = document.querySelector('#tablaAyuda');
    var vAyuda = [];
    for (var i = 1; i < tablaAyudaDiagnostica.rows.length; i++) {
      var fila = tablaAyudaDiagnostica.rows[i];
      var registro = {};

      // Recorre las celdas de cada fila y asigna los valores a un objeto
      for (var j = 0; j < row.cells.length; j++) {
        var atributo = tablaAyudaDiagnostica.rows[0].cells[j].textContent;  // Obtén el nombre del atributo de la primera fila
        var valor = row.cells[j].textContent;
        registro[atributo] = valor;
      }

      vAyuda.push(registro);  // Agrega el registro al vector
    };
  </script>
  <script>
    window.TrackJS &&
      TrackJS.install({
        token: "ee6fab19c5a04ac1a32a645abde4613a",
        application: "argon-design-system-pro"
      });
  </script>
</body>

</html>